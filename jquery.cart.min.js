(function(e){function t(){}function r(){}var n=t.prototype;n.create=function(t,n,r){var i,s;r=e.extend({},this.defaults,r);if(r.duration){var o=new Date;o.setTime(o.getTime()+r.duration*24*60*60*1e3);i="; expires="+o.toGMTString()}else{i=""}s=escape(t)+"="+escape(n)+i;s+=r.path?"; path="+r.path:"";s+=r.domain?"; domain="+r.domain:"";s+=r.secure?"; secure="+r.secure:"";document.cookie=s};n.get=function(e){var t=escape(e)+"=";var n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r];while(i.charAt(0)===" ")i=i.substring(1,i.length);if(i.indexOf(t)===0)return unescape(i.substring(t.length,i.length))}return null};n.erase=function(e){this.create(e,"",-1)};e.cookie=new t;e.cookie.defaults={path:"/"};var i=r.prototype;i.cookieName="cart";i.index=0;i.cookieHandle={read:null,create:null};i.cookieHandle.read=e.cookie.get;i.cookieHandle.create=e.cookie.create;i.get=function(){var e=JSON.parse(this.cookieHandle.read(this.cookieName));if(e===null||e===undefined||e===""){return null}else{return e}};i.getJSON=function(){return this.cookieHandle.read(this.cookieName)};i.setObjectCookie=function(e){var t=JSON.stringify(e);this.cookieHandle.create(this.cookieName,t)};i.set=function(e,t){if(t<=0){return}var n=this.get(),r=false,i=0,s=null,o=this.total();if(n===null||n===undefined){n=[]}for(i in n){s=n[i];if(s.id==e){r=true;s.count+=t;n[i]=s;break}}if(!r){s=new Object({});s.id=e;s.count=t;n[o]=s}this.setObjectCookie(n)};i.total=function(){var e=this.get(),t,n=0;if(e===null){return 0}else{for(t in e){n++}return n}};i.totalQty=function(){var e=this.get(),t=0,n;if(e===null){return 0}else{for(n in e){t+=e[n].count}return t}};i.remove=function(e,t){t=t?t:1;var n=this.get(),r=0,i=null,s=0,o=new Array;if(n===null||n===undefined){return}else{for(r in n){i=n[r];if(e==i.id){i.count-=t;if(i.count<=0){continue}}o[s]=i;s++}if(s==1){this.clear();return}n=o;this.setObjectCookie(n)}};i.removeItem=function(e){if(e===null||e===undefined)return;if(this.total()===1){this.clear();return}var t=this.get(),n=0,r=null,i=0,s=new Array;if(t===null||t===undefined){return}else{for(n in t){r=t[n];if(e!=r.id){s[i]=r;i++}}t=s;this.setObjectCookie(t)}};i.change=function(e,t){if(t===null||t===undefined)return;if(t===0){this.removeItem(e);return}var n=this.get(),r=0,i=null;if(n===null||n===undefined){return}else{for(r in n){i=n[r];if(e==i.id){i.count=t;n[r]=i;break}}}this.setObjectCookie(n)};i.clear=function(){this.cookieHandle.create(this.cookieName,JSON.stringify([]))};i.removeCookie=function(){e.cookie.erase(this.cookieName)};e.cart=new r})(window.jQuery)